#+TITLE: System Configuration
#+PROPERTY: header-args :noweb no-export :mkdirp yes

This is my user specific system configuration which you can generate
with ~M-x org-babel-tangle~.

This is the main ~system.nix~ which just imports the generated
system config.

#+begin_src nix :tangle system.nix
{ ...
}:

{
  imports = [ ./generated/system-config.nix ];
}
#+end_src

* System
** Config

This is the actual main config, which imports the selected
configurations.

#+begin_src nix :tangle generated/system-config.nix
# Auto-generated from "system.org"

{ pkgs
, ...
}:

{
  <<system.setup>>

  imports = [
    <<activation-scripts.imports>>
    <<boot.imports>>
    <<hardware.imports>>
    <<networking.imports>>
    <<nix.imports>>
    <<others.imports>>
    <<programs.imports>>
    <<security.imports>>
    <<services.imports>>
    <<users-and-groups.imports>>
    <<virtualisation.imports>>
    <<xdg.imports>>
  ];
}
#+end_src

** Setup

#+NAME: system.setup
#+begin_src nix
system.stateVersion = "22.05";
#+end_src

